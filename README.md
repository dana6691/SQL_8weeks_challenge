# SQLchallenge
## case study 1 - Danny's restaurant
![dbdiagram](https://github.com/dana6691/SQL_casestudy/blob/main/Image/case11.PNG)

Learning how to use Common Table Expressions(CTE), Group By Aggregates, Window Functions for ranking(RANK(),DENSE_RANK(), ROW_NUMBER()), and Table Joins to solve the business problems.</br>
- How much each customer spent at the restaurant in total?
- How many times each customer visited the restaurant?
- What is the first item did they purchased?
- What is the most popular menu?
- What food is their first order after they became a member?
- What is the total reward point earned from each customer?


## case study 2 - Pizza Runner
![dbdiagram2](https://github.com/dana6691/SQL_casestudy/blob/main/Image/case1.PNG)
Learning how to Change the datatype, Use Date and time functions (DATENAME(), DATEPART(), DATEDIFF()), CASE WHEN statement, Use STRING_SPLIT functions to split a string into rows of substrings. 
- How many pizzas were ordered by pizza type? 
- How many pizzas delievered succesfully?
- What was an average time of the delievery by runner?
- What was the most ingredients that commonly added extra?
- What was the most ingredients that commonly excluded?
- How much is the total price for each delievery?

## case study 3 - Foodie
![dbdiagram3](https://github.com/dana6691/SQL_casestudy/blob/main/Image/case3.PNG)
Using the subscription plan data to understand the customers' pattern by using CASE WHEN, LEAD(), ROW_NUMBER(), and multiple CTE tables.
- How many customers start the trial by month?
- Calculate the customer churn rate.
- Calculate the percentage of customers who start the monthly/yearly plans right after the free trial.
- How many customers have upgraded the plan to an annual plan?
- How many average days does it take for a customer to an annual plan from the trial start date?
- Group the customers by the number of average days until the annual plan.